# [Seeking SRE](https://www.oreilly.co.jp/books/9784873119618/)

## 第１部：SRE の導入

- 自分が SRE であることを自覚するのは：最初の質問として「それをどのように計測していますか」が口をついて出る時。自分の語彙から「非難する」という言葉を消し去る時


### １章：SRE におけるコンテキストとコントロール

- Netflix におけるコンテキストの例：「ドメインの懸念事項については明示的な優先順位づけを行なっていくが、信頼性を犠牲にするよりは実行効率の低さを選ぶ必要がある」という方針を周知徹底した

### ２章：サイトリライアビリティエンジニアの面接

- 暫定の候補者像は例えば、期待される知識、経験、成長パス、リーダーシップのスキルが含まれていると適切なものにしやすい
- チームが候補者に求めるものがわかると、それを評価するための質問も検討できる
- 社内文化への適合性は、組織の規模や構造によっては、技術面の弱みを相殺する場合もある。こうした内容は、候補者が仕事に取り組むスタイルに分け入る質問によって判断できる
- 在宅回答課題は、より現実的に即したシナリオでソフトウェアを描く能力を示すことができる。一方で候補者も評価者も多くの時間を割く必要があるので、最初のオンサイト面接でシグナルが得られなかった側面を確認するための手段と考えるのが良い
- 採用を断念するのは難しい判断だが、長い目で見れば採用で間違った選択をする方がほぼ必ず、より悪い結果となる
- 面接の成績に基づいて不採用に決定する場合であっても、候補者が「プロセスは公平だったし良い経験をした」と感じながら面接を終えられるように心がける

### ３章：なるほど、SRE チームを作りたいのですね

- SRE と開発チームのペアワークで、プロダクション運用に積極的に参加していくのは良さそう
- 開発と SRE の間での人事ローテーションプログラムや、開発チームと SRE チームの間を誰でも自由に移動できるポリシーは試してみると良いかもしれない
- 誰かのレビューが悪い情報ばかりだったものの、グループの反応は助力的だった場合、そうした社内文化は SRE にふさわしいと言える
- 組織がローンチ（新しく魅力的に見えるツールなど）だけでなくランディング（プロダクションの自動化がもたらす計測可能な節約）に報いているのは、組織が成熟している兆候の一つである
- SRE とは実際には、他のビジネス目標の足を引っ張ることが内容に信頼性を管理すること
- 信頼性より重要な目標としては、テクノロジーがビジネスの差別化要因となるタイミングや領域で、確実に成果を上げること
  - こうしたケースでは、製品開発チームに全速力で突っ走らせたいと思うので、SRE チームはガードレールを提供することは価値になる（例えばカナリアサーバーによる容易なロールバックを提供するなど）

### ４章：インシデントのメトリクスを用いた SRE の大規模な改善

- デプロイ、モニタ、改善、コードの好循環を作ることで、サービス障害からの学習の適切性、バグ修正の迅速性を把握できるようになる
- インシデントのメトリクスとしては、検出時間、エンゲージ時間、修正時間のそれぞれを改善する必要がある
  - 検出時間：自動のモニタリングとアラートによって改善
  - エンゲージ時間：自動化されたエスカレーションとプロセスで改善
  - 修正時間：高速ロールバック、フェイルオーバー、前方修正で対応
  - 他に、各メトリクスに関連して具体的なアクションに繋がりやすい代理メトリクス（例えば自動検出された割合や、関わったエンジニア数など）を検討・利用することも有効
- 修復負債には短期（1週間程度でロールアウトできる修正）と長期（コードのより徹底した修正などやデリバリツールの構築など、根本的な修正）のものがある。これらを開発アイテムとして管理し、エラーバジェットなどと組み合わせることで効果的なシステム改善が可能になる。
- 仮想修復負債（改善管理から漏れている修復アイテム）があると、特定の TTD, TTM の欠落が繰り返し発生することになる。ダッシュボードなどによる管理が必要
- 重要なメトリクスがわかるまでは、多くのデータを手作業で検討することも必要となり得る（Azure でもそうなのは安心）

### ５章：サードパーティとの協力を円滑に進める重要性

- 統合の重要性を早い段階で判断しておくと、将来生じる技術的負債やスケーリングの制約を回避するのに役立つ
- 早い段階でステークホルダーを特定して意見を求めるほど、所有権を適用し、プロジェクトに追加の人員を確保するのが容易になる
- ソリューションの選択には（フル自前）構築、（外部サービスの）購入、（OSS の）採用が考えられる。それぞれに導入コストと運用コストがある
- プロジェクトに取り組む際の考慮事項：解決しようとしている問題、最終損益への影響、運用実績、リスクやメリット、成功・失敗の計測方法など
- 依存するサードパーティがダウンすれば自社もダウンし得る。認証や CDN など。
- 依存するサードパーティサービスのパフォーマンスやサービスレベルを計測できるかも考慮する必要がある（Cloudflare, Auth0 はそこそこ把握しやすい印象）
- サードパーティは補助的な存在ではなく、自社の技術スタックの拡張である。それがクリティカルパスであるなら、サービスと同様に扱う必要がある


