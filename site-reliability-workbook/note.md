# [Site Reliability Workbook](https://www.oreilly.co.jp/books/9784873119137/)

English version is available online: https://sre.google/books/

## １章：SRE と DevOps の関係

- DevOps 哲学の要素：サイロの抑制、アクシデントの受容、変化は小さく頻繁に起こす。
- `class SRE implements interface DevOps`: SRE は DevOps が掲げる哲学の一部を実施したものといえ、「DevOps エンジニア」よりも明確な仕事やロールの定義と言える
- SRE を定義する原理
  - 運用はソフトウェアの問題
  - サービスレベル目標による管理
  - トイルの最小化のための作業
  - 今年のジョブの自動化
  - 失敗のコストの削減による速度の向上
  - 開発者との共有オーナーシップ
  - 役割や仕事の肩書きに関わらず同じツールを使うこと
- DevOps と SRE は多くの領域で共通点がある。一方でDevOps はサービスの運用方法についてはあまり言及していない。SRE はサービス（エンドユーザー指向）で、システムを効率的に動作させるという問題も取り扱う
- DevOps と SRE を浸透させるための設計
  - 狭く、硬直したインセンティブは成功を妨げる
  - 修正は自分で行う、他の誰かを責めない
  - 信頼性に関する作業を特化した役割として考える
  - 「やるかどうか」は「いつやるか」に置き換えられる

## 第１部：基礎

### ２章：SLO の実装

- SRE の日々のタスクやプロジェクトは、SLO によって駆動される。SLO は、どのエンジニアリング作業を優先するかの決定を助けるツールと言える。
- エラーバジェットベースのアプローチを採用するための要件
  - SLO があり、それがプロダクトに適していると組織内の全てのステークホルダーが承認していること
  - サービスが SLO を満たしていることを保証する責任を負う人々が、通常の状況下でこの SLO を満たせると同意したこと
  - 意思決定と優先順位付けにエラーバジェットを利用することに組織がコミットしたこと。そのコミットメントがエラーバジェットのポリシーとして公式のものとなっていること
  - SLO を改定するためのプロセスが存在すること
- SLO を形成するための最初のステップ：SLO が何をカバーすべきなのかを話す。究極的にはユーザーの満足。SLO が満たされていれば、ほとんどのユーザーは（サービス自体の有用性を認めているとして）サービスには満足しているはず。
- SLO を決めたら、機能リリースの速度と信頼性とのトレードオフを決める権限を持っている組織内の人物に、その責任者になってもらう。CTO や PdM など。
- SLI のおすすめ：良いイベントの数とイベントの総数の比で扱うこと
- SLI はサービスの種類（リクエスト駆動、パイプライン、ストレージなど）ごとに、それぞれ一般的なものが存在する。
- SLO を評価するウィンドウを短くすれば、判断をより早く下せるようになる。期間を長く取れば、（工数のかかる）より戦略的な判断に役立つ。Google のおすすめは4週間。
- ステークホルダーとの同意
  - PdM：SLO の違反は、ユーザーにとって許容できないパフォーマンスであると同意する。
  - 開発メンバー：エラーバジェットが尽きたら、バジェットが回復するまでリスク軽減策を講じることに同意する。
  - プロダクション環境に責任を持つチーム：大変な労力、過剰なトイルやバーンアウトなく SLO を守れる
- SLO の維持や信頼性の回復が大変なら、SLO を緩和することも検討できる。一方でエラーバジェットに抵触していないのにユーザー体験が悪化すると感じるなら、その SLO は緩すぎるかもしれない。
- SLO とエラーバジェットポリシー（エラーバジェットが消費された際にどんなアクションを取るかの決まり）は、明示的なドキュメントとしてステークホルダーで合意する必要がある。
- クリティカルユーザージャーニーを考えることで、ユーザー体験に沿った SLO を検討できる。
- SLO はスタック中のさまざまなコンポーネント間の信頼性の要求の調整と実装にも役立つ

## 第２部：実践

## 第３部：プロセス

## まとめ

